org 0x7c00
jmp 0x0000:start

data:
	bandeira db 29, 14, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 10, 14, 14, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 10, 14, 14, 14, 14, 14, 14, 10, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 14, 14, 14, 7, 8, 8, 8, 7, 7, 14, 14, 10, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 10, 14, 14, 14, 14, 8, 0, 1, 1, 1, 0, 0, 7, 14, 14, 14, 10, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 10, 14, 14, 14, 14, 14, 7, 8, 8, 9, 9, 9, 9, 8, 8, 14, 14, 14, 14, 14, 10, 2, 2, 2, 2, 2, 2, 2, 2, 2, 10, 14, 14, 14, 14, 7, 0, 1, 1, 1, 1, 1, 0, 8, 14, 14, 14, 14, 10, 10, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 10, 14, 14, 14, 7, 8, 0, 0, 0, 0, 8, 14, 14, 14, 10, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 10, 14, 14, 15, 7, 7, 7, 7, 14, 14, 10, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 10, 14, 14, 14, 14, 14, 10, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 10, 10, 10, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2

intela:                               ; Função que incia o modo vga e printa uma tela preta pra carregar as cores
    mov ah, 0
    mov al, 12h
    int 10h
    mov ah, 0xb
    mov al, 13h
    int 10h
    mov ah, 0xb
    mov bh, 0
    mov bl, 0
    int 10h
    ret

writePixel:
	mov ah, 0ch
	int 10h
	ret

drawImg: ;antes de usar, precisamos dizer quem s1 vai pegar
	mov dx, 0
	.for1: 
		cmp dl, 8
		je .endfor1
		mov cx, 0
		.for2:
			cmp cl, 8
			je .endfor2
			lodsb
			call writePixel
			inc cx
			jmp .for2
		.endfor2:
		inc dx
		jmp .for1
	.endfor1:
	ret


start:
    xor ax, ax
    mov ds, ax
    mov es, ax
    call intela
    mov si, bandeira
    call drawImg
    
    jmp $


times 510 - ($ - $$) db 0
dw 0xaa55
